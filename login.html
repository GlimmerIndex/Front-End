<!DOCTYPE html>
<html lang="zh" dir ="ltr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel = "stylesheet" href = "style.css">
</head>

<body>
    <form class = "login_box" id = "userForm" action = "login.html" method="post">
        <h1>登录</h1>
        <input type="text" name="uname" class = "input_box" id = "uname" placeholder="账号">
        <input type="password" name="password" class = "input_box" id = "password" placeholder="密码">
        
        <input type = "button" class = "btn" id = "login" value = "      登录      ">
        <input type = "button" class = "btn" id = "enroll" value = "      注册      " onclick="window.location.href='enroll.html'">
        
    </form>
</body>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">

$("#login").click(loadXMLDoc )

  


function loadXMLDoc ()
{
	var xmlhttp;
	if (window.XMLHttpRequest)
	{
		xmlhttp=new XMLHttpRequest();
	}
	else
	{
		xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.onreadystatechange=function()
	{
		if (xmlhttp.readyState==4 && xmlhttp.status==200)
		    {
                var password = $("#password").val();
                var uname = $("#uname").val();
                if(isEmpty(uname) ) 
                {
                    alert("账号输入不可为空");
                    return;
                }
                if(isEmpty(password))
                {
                    alert("密码输入不可为空");
                    return;
                }
                $("#userForm").submit();
                window.location.href='user.html';
	        }
	    xmlhttp.open("GET","/try/ajax/ajax_info.txt",true);
	    xmlhttp.send();
    }
}


function isEmpty(str)
{
    if(str==null||str.trim()=="")
    {
        return true;
    }
        return false;         
}
   
</script>
</html>